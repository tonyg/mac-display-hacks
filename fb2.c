/* gcc -arch i386 -O3 -o fb2 fb2.c -framework ApplicationServices -framework Carbon
 */
#include <stdint.h>
#include <stdlib.h>
#include <sys/time.h>

#include <ApplicationServices/ApplicationServices.h>

static char *fontdata[]; /* forward declaration */

static struct {
  uint32_t *base;
  int width;
  int height;
  int stride;
} screen;

static int frame_counter = 0;

static void setup_screen(void) {
  CGDirectDisplayID targetDisplay = kCGDirectMainDisplay;

  CGDisplayCapture(targetDisplay); /* crucial for being permitted to write on it */
  screen.base = (uint32_t *) CGDisplayBaseAddress(targetDisplay);
  screen.stride = CGDisplayBytesPerRow(targetDisplay) / sizeof(uint32_t);
  screen.width = CGDisplayPixelsWide(targetDisplay);
  screen.height = CGDisplayPixelsHigh(targetDisplay);
}

static void clrscr(void) {
  memset(screen.base, 0, ((screen.height-1) * screen.stride + screen.width) * sizeof(uint32_t));
}

static void putpixel(int x, int y, int c) {
  screen.base[y * screen.stride + x] = c;
}

static int getpixel(int x, int y) {
  return screen.base[y * screen.stride + x];
}

static int glyph_pixel(char c, unsigned int x, unsigned int y) {
  int row = (c / 16) * 16 + (y % 16);
  int col = (c % 16) * 16 + (x % 8) + 5;
  return fontdata[row][col] != ' ';
}

static void do_frame() {
  Point loc;
  char *message = "giant fishy ";
  int messagelen = strlen(message);
  int x, y;

  GetMouse(&loc);

  for (y = 0; y < screen.height; y++) {
    for (x = 0; x < screen.width; x++) {
      unsigned int ex = x + frame_counter + loc.h;
      unsigned int ey = y - frame_counter + loc.v;
      int offset = (ex >> 5) % messagelen;
      int gp = glyph_pixel(message[offset], ex >> 2, ey >> 2);
      putpixel(x, y, gp ? (ex^ey) << 12 : 0);
      /* if (gp) { */
      /* 	int rx = screen.width - x; */
      /* 	int ry = screen.height - y; */
      /* 	putpixel(rx, ry, ~(getpixel(rx, ry))); */
      /* } */
    }
  }
}

static void do_frame0() {
  Point loc;
  int x, y, c;

  GetMouse(&loc);

  c = 0;
  /* memset(screen, c, ((height-1) * stride + width) * sizeof(pix_t)); */
  for (y = 0; y < screen.height; y++) {
    for (x = 0; x < screen.width; x++) {
      //c = x ^ y % (i + 1);
      c = (x % (frame_counter + 1)) ^ y;
      //c = x / ((x ^ y) + 1);
      //c = (x + 1) % (y + 1);
      if ((abs(y - loc.v) < 10) && (abs(x - loc.h) < 10)) {
	c = 255 << 16;
      }
      putpixel(x, y, c);
    }
  }
}

int main(int argc, char *argv[]) {
  struct timeval t_start, t_stop;

  setup_screen();

  gettimeofday(&t_start, NULL);

  frame_counter = 0;
  while (!Button()) {
    do_frame();
    frame_counter++;
  }

  gettimeofday(&t_stop, NULL);

  {
    long delta = (t_stop.tv_sec - t_start.tv_sec) * 1000000 + (t_stop.tv_usec - t_start.tv_usec);
    printf("%d frames took %lu microseconds, so %g frames/sec\n",
	   frame_counter,
	   delta,
	   frame_counter / (delta / 1000000.0));
  }
}

static char *fontdata[] = {
"                                                                                                                                     ........                        ........                                                                                   ",
"                                                                                                                                     ........                        ........                                                           .                       ",
"                       ....            ....                                                                                          ........                        ........            ....         ......             .              ..              ..      ",
"                      .    .          ......                                            ..              ..                           ........                        ........             ...        ..    ..            ..             ...             ..      ",
"                     .      .        ........         ..  ..            ..             ....            ....                          ........                        ........            .. .        ..    ..            ...            . ..         .. .. ..   ",
"                     ...  ...        .  ..  .        ........          ....            ....           ......                         ........          ....          ..    ..           ..           ..    ..            . ..           .. .          ......    ",
"                     . .  . .        .. .. ..        ........         ......          . .. .         ........           ..           ...  ...         ..  ..         .  ..  .          .....          ......             .              . ..           ....     ",
"                     .  ..  .        ...  ...        ........        ........        ........        ........          ....          ..    ..         .    .         . .... .         ..   ..           ..               .              .  .         ........   ",
"                     .      .        ........        ........         ......         ........        ........          ....          ..    ..         .    .         . .... .        ..    ..           ..               .            ...  .           ....     ",
"                     .  ..  .        ...  ...         ......           ....           . .. .          . .. .            ..           ...  ...         ..  ..         .  ..  .        ..    ..           ....          ....           ....  .          ......    ",
"                      .    .          ......           ....             ..              ..              ..                           ........          ....          ..    ..        ..   ..          ....           .....            ..   .         .. .. ..   ",
"                       ....            ....             ..                             ....            ....                          ........                        ........         .....             ..            ...                ...            ..      ",
"                                                                                                                                     ........                        ........                                                           ....            ..      ",
"                                                                                                                                     ........                        ........                                                            ..                     ",
"                                                                                                                                     ........                        ........                                                                                   ",
"                                                                                                                                     ........                        ........                                                                                   ",
"                                                                                                                                                                                                                                                                ",
"                                                                                        .....                                                                                                                                                                   ",
"      ..                  ..            .             ..  ..           ......          ..                               .               .              ...                                           ..  ..                                                     ",
"      ...                ...           ...            ..  ..          .... ..         ....                             ...             ...             ...                                            ..  ..                                                    ",
"      ....              ....          .....           ..  ..         .. .. ..        .. ...                           .....           .....            ...                                             ..  ..                           ..           ........   ",
"      .....            .....         .......          ..  ..         .. .. ..        ..  ...                         .......         .......           ...               .              .                              .  .            ....          ........   ",
"      ......          ......           ...            ..  ..         .. .. ..        ...  ...                          ...             ...             ...               ..            ..                             ..  ..           ....           ......    ",
"      ......          ......           ...            ..  ..          .......         ...  ..                          ...             ...             ...           .......          .......                        ........         ......          ......    ",
"      .....            .....           ...            ..  ..           ... ..          ... ..         ......           ...             ...             ...           ........        ........                        ........         ......           ....     ",
"      ....              ....           ...                              .. ..           ....          ......         .......           ...             ...           .......          .......                         ..  ..         ........          ....     ",
"      ...                ...         .......          ..  ..            .. ..            ..           ......          .....            ...           .......             ..            ..                              .  .          ........           ..      ",
"      ..                  ..          .....           ..  ..            .. ..           ..            ......           ...             ...            .....              .              .                                                                       ",
"                                       ...                                             ..                               .              ...             ...                                                                                                      ",
"                                        .                                            ...                                               ...              .                                                                                                       ",
"                                                                                                                     .......                                                                                                                                    ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                        ..                                                               ..            ..                                                                                                       ",
"                        ..             ..  ..          ..  ..         ......          ..                ...              ..             ..              ..            ..  ..                                                                              ..    ",
"                        ..            ..  ..           ..  ..        .. .. ..        .. .   .          .. ..            ..             ..                ..            ....                                                                               .     ",
"                        ..           ..  ..          ........        .. ..           . ..  ..         ..  ..           ..              ..                ..          ........                                                                            ..     ",
"                        ..                            ..  ..          ....            ..  ..           ....                           ..                  ..           ....             ..                                                               .      ",
"                        ..                            ..  ..            ...              ..            ...                            ..                  ..          ..  ..            ..                                                              ..      ",
"                        ..                            ..  ..            ....            ..            .. ..                           ..                  ..                          ......                          ......                            .       ",
"                        ..                            ..  ..            .. ..          .. ..         ..   ...                         ..                  ..                            ..                                                             ..       ",
"                                                     ........        .. .. ..         .. .. .        ..   ..                           ..                ..                             ..                                                             .        ",
"                        ..                           ..  ..          .. .. ..        ..  . ..         .. ...                           ..                ..                                              ..                             ..            ..        ",
"                        ..                           ..  ..           ......              ..           ... ..                           ..              ..                                              ..                              ..            .         ",
"                                                                        ..                                                               ..            ..                                              ..                                            ..         ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"       .....             ..            .....         ........             ..            .....          ....          ........          ....            ....                                               ..                          ..               .....    ",
"      ..   ..           ...           ..   ..        ..   ..             ...         ....             ..  ..         ..    ..         ..  ..          ..  ..                                             ..                            ..             ..   ..   ",
"     ..    ..          ....          ..    ..            ..             ....         ..              ..   ..              ..         ..   ..         ..   ..            ..              ..              ..                              ..           ..   ..    ",
"     ..    ..         .. ..                ..           ..             .. ..         .. ...          ..                  ..           .. ..          ..   ..            ..              ..             ..            ........            ..              ..     ",
"     ..    ..            ..               ..           .....          ..  ..         .... ..         .. ...              ..            .....         .. ....                                          ..                                  ..            ..      ",
"     ..  ....            ..              ..                ..        ..   ...              ..        .... ..            ..            ..   ..         ... ..                                          ..                                  ..           ..       ",
"     .. .. ..            ..             ..                 ..        .. ....               ..        ..   ..            ..           ..    ..             ..                                           ..            ........            ..            ..       ",
"     ....  ..            ..            ..            ..    ..        .... ..         ..    ..        ..   ..           ..            ..    ..        ..   ..            ..              ..              ..                              ..                      ",
"     ..   ..             ..           ..   ..        ..   ..              ..         ..   ..         ..  ..            ..            ..   ..         ..  ..             ..              ..               ..                            ..              ..       ",
"      .....              ..          ........         .....               ..          .....           ....             ..             .....           ....                             ..                 ..                          ..               ..       ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"        ....            ..              ....            ....         ......             ....            ....           .....         ..    ..           ...                ..        ..    ..        ..              ..    ..        ..    ..          .....    ",
"       ..  ..           ..             ..  ..          ..  ..        ..   ..         ....            ....             ..   ..        ..    ..          ...                 ..        ..   ..         ..              ..    ..        ..    ..         ..   ..   ",
"      .. ....          ....          ...   ..         ..             ..    ..        ..              ..              ..              ..    ..           ..                 ..        .. ...          ..              ...  ...        ...   ..        ..    ..   ",
"     .. .. ..          .  .          ..   ..         ..              ..    ..        ..              ..              ..              ..    ..           ..                 ..        ....            ..              ... ....        ....  ..        ..    ..   ",
"     .. .. ..         ..  ..         .. ...          ..              ..    ..        .. ...          .. ...          ..              ..  ....           ..                 ..        ...             ..              ..... ..        .. .  ..        ..    ..   ",
"     .. .. ..         .. ...         .... ...        ..              ..    ..        ....            ....            ..  ....        ..... ..           ..                 ..        ....            ..              .. .  ..        .. .. ..        ..    ..   ",
"     .. ....          .... .         ..    ..        ..              ..    ..        ..              ..              ..    ..        ..    ..           ..           ..    ..        .. ..           ..              ..    ..        ..  ....        ..    ..   ",
"     .. ..           ...   ..        ..   ..         ..              ..   ..         ..              ..              ..    ..        ..    ..           ..           ..    ..        ..  ..          ..              ..    ..        ..   ...        ..    ..   ",
"     ..   ..         ..    ..        .. ...           ..   ..        .. ...          .. ....         ..               ..  ..         ..    ..           ...           ..   ..        ..   ..         .. ....         ..    ..        ..    ..        ..   ..    ",
"     .. ...          ..    ..        ....              .....         ....            ....            ..                ....          ..    ..          ...             .....         ..    ..        ....            ..    ..        ..    ..         .....     ",
"      ...                                                                                                                                                                                                                                                       ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                       .....                          .....             ..                      ",
"        ....           .....            ....          ......             ....        ..    ..        ..    ..        ..    ..        ..    ..        ..    ..           .....          ..            ..                  ..            ....                     ",
"       ..  ..         ..   ..          ..  ..        ..    ..        .....           ..    ..        ..    ..        ..    ..        ..    ..        ..    ..        .... ..           ..             .                  ..           ..  ..                    ",
"     ...   ..        ..    ..        ...   ..        ..                 ..           ..    ..        ..    ..        ..    ..         ..  ..          ..  ..              .            ..             ..                 ..          ..                         ",
"     ..    ..        ..    ..        ..    ..         ...               ..           ..    ..        ..    ..        ..    ..         ..  ..          ..  ..             ..            ..              .                 ..                                     ",
"     ..   ..         ..    ..        ..   ..            ...             ..           ..    ..         ..  ..         .. .. ..          ....            ....             ..             ..              ..                ..                                     ",
"     .. ...          ..    ..        ......               ..            ..           ..    ..         ..  ..         .. .. ..          ....             ..              .              ..               .                ..                                     ",
"     ....            ....  ..        .. ..                 ..           ..           ..   ..          .....          .. .. ..         ..  ..            ..             ..              ..               ..               ..                                     ",
"     ..              .. ....         ..  ..          ..    ..           ..           ..   ..           ...           ........         ..  ..            ..             .               ..                .               ..                                     ",
"     ..              ..  ..          ..   ..         ..    ..           ..           ..  ..            ..            ...  ...        ..    ..           ..            .. ....          ..                ..              ..                                     ",
"     ..               .....          ..    ..         ......            ..            ....             ..            ..    ..        ..    ..           ..           .....             ..                 .              ..                                     ",
"                          ..                                                                                                                                                           .....              ..          .....                                     ",
"                           ..                                                                                                                                                                                                                        ........   ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"       ..                            ..                                    ..                           ....                         ..                 ..               ..          ..                ...                                                      ",
"        ..                           ..                                    ..                          ..  ..                        ..                 ..               ..          ..                 ..                                                      ",
"         ..                          ..                                    ..                          ..                            ..                                              ..                 ..                                                      ",
"                       .....         .. ...             ....            .....          .....           ..              ......        ..  ...            ..               ..          ..   ..            ..           ...  ..         ..  ...           .....    ",
"                      ..   ..        .... ..           ..  ..         ...  ..         ..   ..          ....           ..   ..        .. .. ..           ..               ..          ..  ..             ..           .. .. ..        .. .. ..         ..   ..   ",
"                        .....        ..    ..         ..             ..    ..        ..  ...         ....            ..    ..        ....  ..           ..               ..          .. ..              ..           .. .. ..        ....  ..        ..    ..   ",
"                      ...  ..        ..    ..        ..              ..   ...        .....             ..            ..   ...        ...   ..           ..               ..          .....              ..           .. .. ..        ...   ..        ..    ..   ",
"                     ..    ..        ..   ..         ..              ..  ....        ..                ..            ..  ....        ..    ..           ..               ..          ... ..             ..           ..    ..        ..    ..        ..    ..   ",
"                     ..  ....        .. ...          ..    ..        .. .. ..        ..    ..          ..            .. .. ..        ..    ..           ..               ..          ..   ..            ..           ..    ..        ..    ..        ..   ..    ",
"                      .... ..        ....             ......          ...  ..         ......           ..             ...  ..        ..    ..           ..               ..          ..    ..           ..           ..    ..        ..    ..         .....     ",
"                                                                                                                           ..                                        ..  ..                                                                                     ",
"                                                                                                                     ..    ..                                        ..  ..                                                                                     ",
"                                                                                                                      ......                                          ....                                                                                      ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                         ...            ..            ...                                       ",
"                                                                        .                                                                                                               ..              ..              ..                                      ",
"                                                                       ..                                                                                                               ..              ..              ..                                      ",
"                                                                       ..                                                                                                               ..              ..              ..                              .       ",
"     ..  ...          ...  ..        ..  ...          ......           ....          ..    ..        ..    ..        ..    ..        ..    ..        ..    ..        ........           ..              ..              ..                             ...      ",
"     .. .. ..        .. .. ..        .. .. ..        ..    ..        ....            ..    ..        ..    ..        ..    ..         ..  ..         ..    ..             ..          ...               ..               ...          ... ..          .. ..     ",
"     ....  ..        ..  ....        ....  ..         ...              ..            ..    ..        ..    ..        ..    ..          ....          ..    ..            ..           ...               ..               ...         .. ...          ..   ..    ",
"     ...   ..        ..   ...        ...                ....           ..            ..   ...         ..  ..         .. .. ..           ..           ..    ..           ..              ..              ..              ..                           ..   ..    ",
"     ..    ..        ..    ..        ..                    ..          .. ..         ..  ....         .. ..          .. .. ..          ....          ..    ..          ..               ..              ..              ..                           ..   ..    ",
"     ..   ..          ..   ..        ..              ..    ..          ....          .. .. ..          ...           ........         ..  ..          ..  ..          ..                ..              ..              ..                           .......    ",
"     ......            ......        ..               ......            ..            ...  ..           ..           ..    ..        ..    ..          .....         ........           ..              ..              ..                                      ",
"     ..                    ..                                                                                                                            ..                              ...            ..            ...                                       ",
"     ..                    ..                                                                                                                        .. ..                                                                                                      ",
"     ..                    ..                                                                                                                         ...                                                                                                       ",
"                                                                                                                                                                                                                                                                ",
"                                                         ..                                             ...                             ..                                                              ..                            ..  ..            ..      ",
"                                          ..            ....                           ..              .. ..                           ....                           ..                               ....           ..              ..  ..           .  .     ",
"        ....          ..  ..             ..            ..  ..          .. ..            ..             .. ..                          ..  ..          ..  ..           ..             ..  ..          ..  ..           ..               ..             .  .     ",
"       ..  ..         ..  ..            ..            ..               .. ..             ..             ...                          ..               ..  ..            ..            ..  ..         ..                 ..              ..              ..      ",
"      ..                                                                                                                                                                                                                               ....            ....     ",
"     ..              ..    ..          .....           .....           .....           .....           .....            ....           .....           .....           .....            ..              ..              ..             .  .            .  .     ",
"     ..              ..    ..         ..   ..         ..   ..         ..   ..         ..   ..         ..   ..          ..  ..         ..   ..         ..   ..         ..   ..           ..              ..              ..            ..  ..          ..  ..    ",
"     ..              ..    ..        ..  ...            .....           .....           .....           .....         ..             ..  ...         ..  ...         ..  ...            ..              ..              ..            ..  ..          ..  ..    ",
"     ..              ..   ...        .....            ...  ..         ...  ..         ...  ..         ...  ..        ..              .....           .....           .....              ..              ..              ..            ......          ......    ",
"     ..              ..  ....        ..              ..    ..        ..    ..        ..    ..        ..    ..        ..              ..              ..              ..                 ..              ..              ..           ..    ..        ..    ..   ",
"      ..   ..        .. .. ..        ..    ..        ..  ....        ..  ....        ..  ....        ..  ....        ..    ..        ..    ..        ..    ..        ..    ..           ..              ..              ..           ..    ..        ..    ..   ",
"       .....          ...  ..         ......          .... ..         .... ..         .... ..         .... ..         ......          ......          ......          ......            ..              ..              ..           ..    ..        ..    ..   ",
"         ..                                                                                                              ..                                                                                                                                     ",
"        ..                                                                                                              ..                                                                                                                                      ",
"     ....                                                                                                            ....                                                                                                                                       ",
"                                                                                                                                                                                                                                                                ",
"        ..                                              ..                                              ..                                            ..  ..          ..  ..                                                                                    ",
"       ..                                              ....                           ..               ....           ..                                                                                                                                        ",
"      ..                               ......         ..  ..          ..  ..           ..             ..  ..           ..             ..  ..           .....         ..    ..                          ....          ..    ..           ....            ....    ",
"        ....                           .....         ..               ..  ..            ..           ..                 ..            ..  ..          ..   ..        ..    ..            .            ..  ..         ..    ..          ..  ..          ..  ..   ",
"     ....                              ....                                                                                                          ..    ..        ..    ..            .            ..              ..  ..         ...   ..          ..       ",
"     ..               ......          .. ..            .....           .....           .....         ..    ..        ..    ..        ..    ..        ..    ..        ..    ..           ....         .....            ..  ..         ..    ..          ..       ",
"     .. ....         .. .. ..         .. ....         ..   ..         ..   ..         ..   ..        ..    ..        ..    ..        ..    ..        ..    ..        ..    ..          ... ..         ..               ....          ..   ..           ....     ",
"     ....              ... ..         .. ...         ..    ..        ..    ..        ..    ..        ..    ..        ..    ..        ..    ..        ..    ..        ..    ..         .. .           .....              ..           .. ...          ....       ",
"     ..               ......          .....          ..    ..        ..    ..        ..    ..        ..   ...        ..   ...        ..    ..        ..    ..        ..   ..         ..  .            ..              ......         .....             ..       ",
"     ..              .. ...          ..  ..          ..    ..        ..    ..        ..    ..        ..  ....        ..  ....        ..    ..        ..    ..        ..   ..         ..  .            ..                ..           ..  ..            ..       ",
"     .. ....         .. .. ..        ..  ....        ..   ..         ..   ..         ..   ..         .. .. ..        .. .. ..         ..  ..         ..   ..         ..  ..          ..  . ..         ..   ..         ......         .. ....           ..       ",
"     ....             .. ...         ..  ...          .....           .....           .....           ...  ..         ...  ..          .....          .....           ....            ......          ......            ..           ..  ..            ..       ",
"                                                                                                                                         ..                                              .                              ..               ....        ...        ",
"                                                                                                                                     .. ..                                               .                                               ...                    ",
"                                                                                                                                      ...                                                                                                 .                     ",
"                                                                                                                                                                                                                                                                ",
"                                                                                           ..                                                                                                                                                                   ",
"          ..              ..              ..             ..                ..         ... ..                                                                                          ..              ..                                                        ",
"         ..              ..              ..             ..            ... ..         .. ...            .....           .....             ..                                          ...    .        ...    .           ..                                      ",
"        ..              ..              ..             ..            .. ...                           ..   ..         ..   ..            ..                                           ..   ..         ..   ..           ..                                      ",
"                                                                                     ..    ..           .....        ..    ..                                                         ..  ..          ..  ..                               ..                   ",
"       .....            ..             .....         ..    ..        ..  ...         ...   ..         ...  ..        ..    ..            ..                                           .. ..           .. ..             ..             .. ..          .. ..     ",
"      ..   ..           ..            ..   ..        ..    ..        .. .. ..        ....  ..        ..    ..        ..    ..            ..          .......         .......            ..              ..              ..            .. ..            .. ..    ",
"        .....           ..           ..    ..        ..    ..        ....  ..        .. .  ..        ..  ....        ..   ..            ..           ..                   ..           ..              ..               ..           .. ..              .. ..   ",
"      ...  ..           ..           ..    ..        ..   ...        ...   ..        .. .. ..         .... ..         .....            ..            ..                   ..          ..              ..  ..            ..           .. ..              .. ..   ",
"     ..    ..           ..           ..    ..        ..  ....        ..    ..        ..  ....                                         ..   ..        ..                   ..         ..  ...         ..  ...            ..            .. ..            .. ..    ",
"     ..  ....           ..           ..   ..         .. .. ..        ..    ..        ..   ...                                        ..   ..                                         .  .. ..        .  . ...           ..             .. ..          .. ..     ",
"      .... ..           ..            .....           ...  ..        ..    ..        ..    ..        ........        ........         .....                                               ..           .....            ..                           ..         ",
"                                                                                                                                                                                         .. .             ..                                                    ",
"                                                                                                                                                                                        .....             ..                                                    ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                                                                                                ",
"     .     .                         .  .  .            ..              ..              ..             ....                                            ....            ....                            ....            ....             ..                      ",
"        .            .  . . .         .  .  .           ..              ..              ..             ....                                            ....            ....                            ....            ....             ..                      ",
"     .     .                         .  .  .            ..              ..              ..             ....                                            ....            ....                            ....            ....             ..                      ",
"        .            . . .  .         .  .  .           ..              ..              ..             ....                                            ....            ....                            ....            ....             ..                      ",
"     .     .                         .  .  .            ..              ..              ..             ....                                            ....            ....                            ....            ....             ..                      ",
"        .            .  . . .         .  .  .           ..              ..              ..             ....                                            ....            ....                            ....            ....             ..                      ",
"     .     .                         .  .  .            ..              ..           .....             ....                          .....           ......            ....          ......          ......            ....          .....                      ",
"        .            . . .  .         .  .  .           ..              ..           .....             ....                          .....           ......            ....          ......          ......            ....          .....                      ",
"     .     .                         .  .  .            ..           .....           .....           ......          ......          .....           ......            ....          ......          ......          ......          .....           .....      ",
"        .            .  . . .         .  .  .           ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"     .     .                         .  .  .            ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"        .            . . .  .         .  .  .           ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"     .     .                         .  .  .            ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"        .            .  . . .         .  .  .           ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"     .     .                         .  .  .            ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"        .            . . .  .         .  .  .           ..              ..              ..             ....            ....             ..             ....            ....            ....                                                             ..      ",
"        ..              ..                              ..                              ..              ..             ....            ....                            ....                            ....                            ....             ..      ",
"        ..              ..                              ..                              ..              ..             ....            ....                            ....                            ....                            ....             ..      ",
"        ..              ..                              ..                              ..              ..             ....            ....                            ....                            ....                            ....             ..      ",
"        ..              ..                              ..                              ..              ..             ....            ....                            ....                            ....                            ....             ..      ",
"        ..              ..                              ..                              ..              ..             ....            ....                            ....                            ....                            ....             ..      ",
"        ..              ..                              ..                              ..              ..             ....            ....                            ....                            ....                            ....             ..      ",
"        ..              ..                              ..                              ..              .....          ....            ......          ......        ........        ........          ......        ........        ........        ........   ",
"        ..              ..                              ..                              ..              .....          ....            ......          ......        ........        ........          ......        ........        ........        ........   ",
"        .....        ........        ........           .....        ........        ........           .....          ......          ......          ......        ........        ........          ......        ........        ........        ........   ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"                                        ..              ..                              ..              ..             ....                            ....                            ....            ....                            ....                     ",
"       ....                                            ....             ..                                             ....             ..              ..                           ........                        ....                ....        ........   ",
"       ....                                            ....             ..                                             ....             ..              ..                           ........                        ....                ....        ........   ",
"       ....                                            ....             ..                                             ....             ..              ..                           ........                        ....                ....        ........   ",
"       ....                                            ....             ..                                             ....             ..              ..                           ........                        ....                ....        ........   ",
"       ....                                            ....             ..                                             ....             ..              ..                           ........                        ....                ....        ........   ",
"       ....                                            ....             ..                                             ....             ..              ..                           ........                        ....                ....        ........   ",
"       ....          ........                          ....             .....           .....                          ....          ........           ..                           ........                        ....                ....        ........   ",
"       ....          ........                          ....             .....           .....                          ....          ........           ..                           ........                        ....                ....        ........   ",
"     ........        ........        ........          ......           .....           .....          ......        ........        ........        .....              .....        ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                        ..             ....                                             ..             ....            ....             ..                              ..           ........        ........        ....                ....                   ",
"                                                                                                                                                                                                                                                                ",
"                                                                                                                                                                                          ...                                                                   ",
"                        ....            .....                           .....                                                           ..                             ....             ...                                             ....                    ",
"                       ..  ..        ....  ..                        ....                                                               ..             ....           ..  ..           ..                                  .           ..             ......    ",
"                     ...   ..        ..    ..              ..         ..                                              .. ....         ......          ..  ..         ..    ..           ..                                .           ..             ..    ..   ",
"           ..        ..    .         ..               ......           ..             .......         ..   ..        . ...           .. .. ..        ..    ..        ..    ..            ..           .. ...          .....           ..             ..    ..   ",
"      ... ..         ..  ..          ..              ...  ..            ..           ....             ..   ..          ..            .. .. ..        ..    ..        ..    ..          .....         .. .. ..        ..  ...          ......         ..    ..   ",
"     ..  ..          ..    .         ..               ..  ..           ..            .. ..            ..   ..          ..            .. .. ..        ........        ..    ..         ..  ..         .. .. ..        .. . ..          ..             ..    ..   ",
"     ..  ..          ..    ..        ..               ..  ..          ..             .. ..            ..   ..          ..            .. .. ..        ..    ..         ..  ..         ..   ..         .. .. ..        ...  ..          ..             ..    ..   ",
"     ..  ..          ..    ..        ..               ..  ..         ..              .. ..            ..  ...          ..             ......         ..    ..          .  .          ..   ..          ... ..          .....           ..             ..    ..   ",
"     .. ....         ..  ...         ..               ..  ..         .. .....        .. ..            .. ....          ..               ..            ..  ..         . .  . .        ..  ..                           .                ..            ..    ..   ",
"      ...  ..        .. ..           ..               .   .          ....             ...             .... ..          ..               ..             ....          ...  ...         ....                           .                  ....         ..    ..   ",
"                     ..                                                                               ..                                                                                                                                                        ",
"                     ..                                                                               ..                                                                                                                                                        ",
"                                                                                                     ..                                                                                                                                                         ",
"                                                                                                                                                                                                                                                                ",
"                                                                                        ..                                                                                                                                                                      ",
"                                                                                        ..                                                                                                                                                                      ",
"                                                                                        ..                                             ....                                                ..        .. ...           ....                                      ",
"                                       ..                ..              ...            ..                                            ..  ..                                               .         .... ..         ..  ..                                     ",
"     ........           ..              ..              ..              .. ..           ..              ..                            ..  ..                                              ..         ...  ..            ..            ......                    ",
"                        ..               ..            ..               .. ..           ..              ..            ... ..           ....                                               .          ..   ..           ..             ......                    ",
"                      ......              ..          ..                ..              ..                           .. ...                                                              ..          ..   ..          ..  .           ......                    ",
"     ........           ..               ..            ..               ..              ..           ........                                           ..                               .           ..   ..         ......           ......                    ",
"                        ..              ..              ..              ..              ..                            ... ..                            ..              ..           .. ..                                            ......                    ",
"                                       ..                ..             ..           .. ..              ..           .. ...                                                           . .                                             ......                    ",
"     ........                                                           ..           .. ..              ..                                                                            ...                                             ......                    ",
"                      ......          ......          ......            ..            ...                                                                                              .                                                                        ",
"                                                                        ..                                                                                                                                                                                      ",
"                                                                        ..                                                                                                                                                                                      ",
"                                                                        ..                                                                                                                                                                                      ",
"                                                                        ..                                                                                                                                                                                      "};
